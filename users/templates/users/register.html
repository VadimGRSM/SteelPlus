{% extends "core/base.html" %}

{% block title %}
    –°—Ç–∞–ª—å+ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
{% endblock title %}

{% block content %}

<h2 class="form-title">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</h2>
<p class="form-subtitle">–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∞–∫–∞—É–Ω—Ç—É</p>

<div style="width: 500px; margin: 0 auto; margin-bottom: 50px;">
    <form method="post" autocomplete="off">
        {% csrf_token %}

        <input type="hidden" name="next" value="{{ next }}">

        <div class="form-error">{{ form.non_field_errors }}</div>

        <br>

        <div class="form-row">
            <div class="form-group">
                <label for="{{ form.last_name.id_for_label }}">{{ form.last_name.label }}</label>
                {{ form.last_name }}
                {% if form.last_name.errors %}
                    <div class="field-errors">
                        {{ form.last_name.errors }}
                    </div>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.first_name.id_for_label }}">{{ form.first_name.label }}</label>
                {{ form.first_name }}
                {% if form.first_name.errors %}
                    <div class="field-errors">
                        {{ form.first_name.errors }}
                    </div>
                {% endif %}
            </div>
        </div>

        <div class="form-group">
            <label for="{{ form.phone_number.id_for_label }}">{{ form.phone_number.label }}</label>
            <div class="input-wrapper">
                {{ form.phone_number }}
            </div>
            {% if form.phone_number.errors %}
                <div class="field-errors">
                    {{ form.phone_number.errors }}
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
            {{ form.email }}
            {% if form.email.errors %}
                <div class="field-errors">
                    {{ form.email.errors }}
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="{{ form.password1.id_for_label }}">{{ form.password1.label }}</label>
            <div class="input-wrapper">
                {{ form.password1 }}
                <button type="button" class="password-toggle" onclick="togglePassword('registerPassword', this)">‚ö™</button>
            </div>
            {% if form.password1.errors %}
                <div class="field-errors">
                    {{ form.password1.errors }}
                </div>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="{{ form.password2.id_for_label }}">{{ form.password2.label }}</label>
            <div class="input-wrapper">
                {{ form.password2 }}
                <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword', this)">‚ö™</button>
            </div>
            {% if form.password2.errors %}
                <div class="field-errors">
                    {{ form.password2.errors }}
                </div>
            {% endif %}
        </div>

        <button type="submit" name="register" class="submit-btn">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</button>
    </form>
</div>

<script>
function togglePassword(inputId, btn) {
    const input = document.getElementById(inputId);
    if (input.type === "password") {
        input.type = "text";
        btn.textContent = "üîµ";
    } else {
        input.type = "password";
        btn.textContent = "‚ö™";
    }
}
</script>

{% endblock content %}